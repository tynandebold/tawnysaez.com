<!DOCTYPE html>
<html lang="en">
{% include head.html %}
<body>
	{% include header.html %}

	<div class="featured-posts-wrapper">
		<div class="section-title">
			<h2>Featured</h2>
			<div class="line"></div>
		</div>
		{% assign items = site.content | sort: 'date' %}
		{% for post in site.content reversed %}
			{% if post.featuredPost == true %}
				<div class="post-wrapper">
					<a href="{{post.url}}" class="post" style="background-image: url({{post.landingImage}})">
					</a>
					<div class="post-text">
						<a href="{{post.url}}" class="title text-item">{{post.title}}</a>
						<div class="location text-item">{{post.content | truncatewords:20}}</div>
					</div>
				</div>
			{% endif %}
		{% endfor %}
	</div>

	<div class="all-posts-wrapper grid">
		<div class="section-title">
			<h2>All Posts</h2>
			<div class="line"></div>
		</div>
		<div id="filter-wrapper">
			<div id="filter-title">Cities</div>
			<div class="filter-city">
				<a href="#" onclick="return false;" data-city="Detroit">Detroit</a>
			</div>
			<div class="filter-city">
				<a href="#" onclick="return false;" data-city="Melbourne">Melbourne</a>
			</div>
			<div class="filter-city">
				<a href="#" onclick="return false;" data-city="New York">New York</a>
			</div>
			<div class="filter-city">
				<a href="#" onclick="return false;" data-city="Sydney">Sydney</a>
			</div>
		</div>
		{% assign items = site.content | sort: 'date' %}
		{% for post in site.content reversed %}
		<a href="{{post.url}}" class="post" data-city="{{post.location}}" style="background-image: url({{post.landingImage}})">
		  <div class="post-overlay">
				<div class="post-text">
					<div class="title text-item">{{post.title}}</div>
					<div class="location text-item">{{post.location}}</div>
				</div>
		  </div>
		</a>
		{% endfor %}
	</div>

	{% include footer.html %}

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script src="https://unpkg.com/isotope-layout@3.0/dist/isotope.pkgd.min.js"></script>

	<script type="text/javascript">


	// $('#dropdown-title').click(function() {
	// 	$(this).next('ul').stop(true, false).slideToggle(300);
	// 	return false;
	// });
	//
	$('.filter-city a').on('click', function(){
		var city = $(this).data('city');
		$(this).toggleClass('active');
		$('.all-posts-wrapper > .post').not('[data-city="'+ city +'"]').fadeToggle(300);
	});
	//
	// $(window).bind("load", function() {
	// 	var allPostsHeight = $('.all-posts-wrapper').height();
	// 	$('.all-posts-wrapper').height(allPostsHeight);
	// });

	</script>
</body>
</html>